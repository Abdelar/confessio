(this.webpackJsonpconfessio=this.webpackJsonpconfessio||[]).push([[0],{70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),o=a.n(n),c=a(38),r=a.n(c),i=a(39),l=a.n(i),u=a(11),d=a(3),h=a(14),j=a(10),g=a(13),m=a(19),b=a(20),f=a(22),O=a(21),x=a(5),p=a(40),v=a.n(p).a.create({baseURL:"https://europe-west1-ishare-functions.cloudfunctions.net/api",timeout:1e4}),y=function(e){return v.post("/post",e)},N=function(e){return v.get("/posts"+(e?"?last="+e:""))},w=(a(70),function(e){Object(f.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,message:"",author:"",tags:[],tag:"",error:"",success:""},e.authorChanged=function(t){e.setState({author:t.target.value,success:"",error:""})},e.tagChanged=function(t){e.setState({tag:t.target.value,success:"",error:""})},e.messageChanged=function(t){e.setState({message:t.target.value,success:"",error:""})},e.addTag=function(){var t=e.state.tag.slice().trim().toLowerCase();e.state.tags.length>=3?e.setState({error:"Too many tags!"}):""===t?e.setState({error:"Empty tag not allowed!"}):t.length>=17?e.setState({error:"Tag too long!"}):e.state.tags.includes(t)?e.setState({error:"Tag already added!"}):e.setState((function(e){return{tags:[].concat(Object(g.a)(e.tags),[t]),tag:"",error:""}}))},e.removeTag=function(t){var a=e.state.tags.filter((function(e){return e!==t}));e.setState({tags:a})},e.submit=function(){var t=e.state,a=t.message,s=t.author,n=t.tags;return e.setState({success:""}),""===a?e.setState({error:"Please add a message before submitting!"}):a.length>1e3?e.setState({error:"The message is too long!"}):s.length>100?e.setState({error:"The author name is too long!"}):(e.setState({loading:!0}),void y({body:a,author:s,tags:n}).then((function(t){e.setState({success:"Message saved Successfully",error:""}),e.props.pushNewMessage(t.data)})).catch((function(t){e.setState({error:"An error occurred, we couldn't save this message.",success:"",tag:""})})).finally((function(){e.setState({message:"",author:"",tags:[],loading:!1,tag:""})})))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.tag,o=t.loading,c=t.error,r=t.message,i=t.author,l=t.success;return Object(s.jsxs)("div",{className:"form",children:[Object(s.jsxs)("div",{className:"input",children:[Object(s.jsx)("label",{className:"message-label",children:"What's your confession, Let's hear it."}),Object(s.jsx)("input",{id:"author",type:"text",name:"author",onChange:this.authorChanged,autoComplete:"off",value:i,placeholder:"Your name (Optional)"}),Object(s.jsx)("textarea",{name:"post",id:"message",onChange:this.messageChanged,value:r,autoComplete:"off",placeholder:"Your confession"})]}),Object(s.jsxs)("div",{className:"controls",children:[Object(s.jsx)("label",{className:"tags-label",children:"Add up to 3 tags"}),a.length?Object(s.jsx)("div",{className:"tags-wrapper",children:a.map((function(t){return Object(s.jsxs)("div",{className:"tag",onClick:function(){return e.removeTag(t)},children:[Object(s.jsx)("span",{title:"Remove this tag",className:"remove",children:Object(s.jsx)(x.a,{icon:"trash"})}),t]},t)}))}):null,Object(s.jsxs)("div",{className:"tags",children:[Object(s.jsx)("input",{id:"tag-input",type:"text",name:"post",onChange:this.tagChanged,value:n,autoComplete:"off",placeholder:"New tag"}),Object(s.jsx)("button",{title:"Add tag",className:"tags-button",onClick:this.addTag,children:Object(s.jsx)(x.a,{icon:"plus"})})]}),Object(s.jsx)("button",{type:"submit",className:"submit",title:"Submit",onClick:this.submit,disabled:o,children:o?Object(s.jsx)(x.a,{icon:"spinner",className:"loader"}):"Submit"})]}),Object(s.jsxs)("div",{className:"success",children:[l," ",l&&Object(s.jsx)(x.a,{icon:"thumbs-up"})]}),Object(s.jsx)("div",{className:"error",children:c})]})}}]),a}(n.Component));a(71);function S(){return Object(s.jsx)("div",{className:"intro",children:Object(s.jsx)("p",{className:"paragraph",children:"Everyone needs a bit of mental and emotional release from time to time. If the time is now, head on over to our online confessional and let some of what troubles you out. It costs nothing and comes without penance."})})}var C=a(26),k=a.n(C),M=a(41),T=a.n(M);k.a.extend(T.a);a(72);function A(e){var t,a=e.message;return Object(s.jsxs)("div",{className:"message",children:[Object(s.jsx)("p",{className:"message-body",children:a.body}),a.tags&&Object(s.jsx)("div",{className:"tags-section",children:a.tags.map((function(e){return Object(s.jsx)(u.b,{className:"tag-link",to:"/tag/"+e,children:e},e)}))}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{className:"author",children:[Object(s.jsx)(x.a,{icon:"user",className:"author-icon"}),a.author||"Anonymous"]}),Object(s.jsxs)("p",{className:"date",children:[Object(s.jsx)(x.a,{icon:"clock",className:"date-icon"}),Object(s.jsx)("span",{className:"from-now",children:(t=1e3*a.createdAt._seconds,k()().to(t))})]})]})]})}a(75);function E(e){var t=e.messages,a=e.loading,n=e.error,o=e.isTagPage;return Object(s.jsxs)("div",{className:"messages",children:[!o&&Object(s.jsx)("h1",{className:"leading",children:"Confessions"}),t.length>0?Object(s.jsx)("div",{className:"cards",children:t.map((function(e){return Object(s.jsx)(A,{message:e},e.id)}))}):!a&&!n&&Object(s.jsx)("div",{className:"no-messages",children:"No messages!"}),a&&Object(s.jsx)("div",{className:"loading-message",children:Object(s.jsx)(x.a,{icon:"spinner",className:"loader"})}),n&&Object(s.jsx)("div",{className:"error-message",children:n})]})}a(76);function z(e){var t=e.loadMore;return Object(s.jsx)("div",{className:"load-more",children:Object(s.jsx)("button",{onClick:t,children:"More"})})}var I=function(e){Object(f.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={messages:[],loading:!0,error:"",more:!0},e.pushNewMessage=function(t){var a=[t].concat(Object(g.a)(e.state.messages));e.setState({messages:a})},e.loadMore=function(){e.setState({loading:!0});var t=e.state.messages;N(t.length>0?t[t.length-1].id:null).then((function(a){var s=[].concat(Object(g.a)(t),Object(g.a)(a.data));e.setState({messages:s,more:12===a.data.length,error:""})})).catch((function(t){return e.setState({error:t.message})})).finally((function(){return e.setState({loading:!1})}))},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0,error:""}),N().then((function(t){e.setState({messages:t.data,error:""})})).catch((function(t){return e.setState({error:t.message})})).finally((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.messages,a=e.loading,n=e.error,o=e.more;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S,{}),Object(s.jsx)(w,{pushNewMessage:this.pushNewMessage}),Object(s.jsx)(E,{messages:t,loading:a,error:n}),o&&!a&&t.length>=12&&Object(s.jsx)(z,{loadMore:this.loadMore})]})}}]),a}(n.Component);a(77);function P(){return Object(s.jsxs)("div",{className:"about",children:[Object(s.jsx)("p",{children:"There are thoughts and deeds that you might not be able to reveal to anyone, although sometimes you feel like your mind might explode or your chest might burst if you don\u2019t. what if you could make your own confessions without revealing your identity?"}),Object(s.jsx)("p",{children:"Imagine yourself in a room, alone. you take a piece of paper and you start writing your deepest fears, your wildest fantasies, your craziest memories. no one to judge, no one physically there to criticize, just you and your confessions."}),Object(s.jsx)("p",{children:"What if you could say out loud what you\u2019ve been keeping inside? what if you could say the whole truth and nothing but the truth? what if you could make your confessions to total strangers without having to fear their reactions? would you take the leap?"}),Object(s.jsx)("p",{children:"An area that is your personal, anonymous, everyday diary. a place that is fully dedicated to your confessions, whether good or bad, shameful or embarrassing. just say it out loud. this is what the website is all about. a place to simply let it out\u2026"})]})}function L(){return Object(s.jsx)(P,{})}var q=a(23),F=(a(78),function(e){var t=e.match,a=Object(n.useState)([]),o=Object(q.a)(a,2),c=o[0],r=o[1],i=Object(n.useState)(!1),l=Object(q.a)(i,2),d=l[0],h=l[1],j=Object(n.useState)(""),g=Object(q.a)(j,2),m=g[0],b=g[1];return Object(n.useEffect)((function(){var e;h(!0),(e=t.params.tag,v.get("/posts/".concat(e))).then((function(e){r(e.data)})).catch((function(e){return b(e.message)})).finally((function(){return h(!1)}))}),[t.params.tag]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h1",{className:"tagCont",children:[c.length," confession",c.length>1&&"s"," ","tagged with ",Object(s.jsx)(x.a,{icon:"quote-left",size:"xs"})," ",t.params.tag," ",Object(s.jsx)(x.a,{icon:"quote-right",size:"xs"})]}),Object(s.jsx)(E,{messages:c,error:m,loading:d,isTagPage:!0}),Object(s.jsx)("div",{children:Object(s.jsxs)(u.b,{to:"/",className:"back-home",children:[Object(s.jsx)(x.a,{icon:"angle-left"})," Home"]})})]})});function H(){return Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsx)("h1",{children:"Error 404: Page Not found..."})})}function J(){return Object(s.jsx)("div",{children:"contact"})}a(79);function R(){return Object(s.jsx)("nav",{className:"nav",children:Object(s.jsxs)("ul",{className:"navbar",children:[Object(s.jsx)("li",{children:Object(s.jsx)(u.b,{to:"/",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)(u.b,{to:"/about",children:"About"})})]})})}a(80);h.b.add(j.c,j.f,j.h,j.g,j.i,j.b,j.d,j.e,j.a);var W=function(){return Object(s.jsxs)(u.a,{basename:"/confessio",children:[Object(s.jsx)(R,{}),Object(s.jsx)("main",{children:Object(s.jsx)("div",{className:"page",children:Object(s.jsxs)(d.c,{children:[Object(s.jsx)(d.a,{path:"/",exact:!0,component:I}),Object(s.jsx)(d.a,{path:"/about",exact:!0,component:L}),Object(s.jsx)(d.a,{path:"/contact",exact:!0,component:J}),Object(s.jsx)(d.a,{path:"/tag/:tag",exact:!0,component:F}),Object(s.jsx)(d.a,{component:H})]})})})]})};l.a.config(),r.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(W,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.0954e657.chunk.js.map